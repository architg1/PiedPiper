{% extends "base.html" %}

{% block content %}
    <h1>User: {{ user.username }}</h1>
    <hr>
    <h1>History of searches:</h1>
    <p>
    <h2><u>Resale Price Predictor History:</u></h2>
    {% for ri in user.resaleInput %}
    {% if ri %}
    <div><p>Town: {{ ri.town }}</p></div>
    <div><p>Flat Type: {{ ri.flatType }}</p></div>
    <div><p>Original Price: {{ ri.ogprice }}</p></div>
    <div><p>Floor Area: {{ ri.floorArea }}</p></div>
    <div><p>Storey: {{ ri.storey }}</p></div>
    <div><p>Flat Age: {{ ri.age }}</p></div>
    <div><p><b>RESULT: ${{ ri.OUTPUT }}</b></p></div>
    <p><a href="{{ url_for('delete',username=current_user.username, id = ri.id) }}">Delete Entry</a></p>
    {% else %}
        <p>EMPTY</p> 
        {% endif %}
    <hr>
    {% endfor %}

    <h2><u>Desired Flat Price Predictor History:</u></h2>
    {% for ri in user.flatpriceInput %}
    <div><p>Town: {{ ri.town }}</p></div>
    <div><p>Flat Type: {{ ri.flatType }}</p></div>
    <div><p>Floor Area: {{ ri.floorArea }}</p></div>
    <div><p>Storey: {{ ri.storey }}</p></div>
    <div><p>Flat Age: {{ ri.age }}</p></div>
    <div><p><b>RESULT: ${{ ri.OUTPUT }}</b></p></div>
    <p><a href="{{ url_for('deletebuyer',username=current_user.username, id = ri.id) }}">Delete Entry</a></p>
    <hr>
    {% endfor %}

    <h2><u>Town Recommender History:</u></h2>
    {% for ri in user.townInput %}
    <div><p>Flat Type: {{ ri.flatType }}</p></div>
    <div><p>Floor Area: {{ ri.floorArea }}</p></div>
    <div><p>Storey: {{ ri.storey }}</p></div>
    <div><p>Flat Age: {{ ri.age }}</p></div>
    <div><p><b>1ST RECOMMENDED TOWN: {{ ri.OUTPUT1 }}</b></p></div>
    <div><p><b>2ND RECOMMENDED TOWN: {{ ri.OUTPUT2 }}</b></p></div>
    <div><p><b>3RD RECOMMENDED TOWN: {{ ri.OUTPUT3 }}</b></p></div>
    <p><a href="{{ url_for('deletetown',username=current_user.username, id = ri.id) }}">Delete Entry</a></p>
    <hr>
    {% endfor %}
    </p>

    
{% endblock %}